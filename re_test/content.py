# -*- coding: utf-8 -*-
"""
-------------------------------------------------
File Name： content
Description :
Author : 'li'
date： 2020/12/11
-------------------------------------------------
Change Activity:
2020/12/11:
-------------------------------------------------
"""
import re

CC = """D:\software\anaconda\envs\torch_17\python.exe C:/Users/Administrator/Desktop/des/dl_service_start.py
2020-12-13 07:39:24 [INFO] load errorError(s) in loading state_dict for LSTMAttentionOCR:
	Missing key(s) in state_dict: "l8f90af29f7714876aae1bbf31bfaf449.layer.weight_ih_l0", "l8f90af29f7714876aae1bbf31bfaf449.layer.weight_hh_l0", "l8f90af29f7714876aae1bbf31bfaf449.layer.bias_ih_l0", "l8f90af29f7714876aae1bbf31bfaf449.layer.bias_hh_l0", "l8f90af29f7714876aae1bbf31bfaf449.layer.weight_ih_l1", "l8f90af29f7714876aae1bbf31bfaf449.layer.weight_hh_l1", "l8f90af29f7714876aae1bbf31bfaf449.layer.bias_ih_l1", "l8f90af29f7714876aae1bbf31bfaf449.layer.bias_hh_l1", "lb87abda7bf804fa3a843fe35233d9270.embedding.weight", "lb87abda7bf804fa3a843fe35233d9270.attn.weight", "lb87abda7bf804fa3a843fe35233d9270.attn.bias", "lb87abda7bf804fa3a843fe35233d9270.attn_combine.weight", "lb87abda7bf804fa3a843fe35233d9270.attn_combine.bias", "lb87abda7bf804fa3a843fe35233d9270.gru.weight_ih_l0", "lb87abda7bf804fa3a843fe35233d9270.gru.weight_hh_l0", "lb87abda7bf804fa3a843fe35233d9270.gru.bias_ih_l0", "lb87abda7bf804fa3a843fe35233d9270.gru.bias_hh_l0", "lb87abda7bf804fa3a843fe35233d9270.gru.weight_ih_l1", "lb87abda7bf804fa3a843fe35233d9270.gru.weight_hh_l1", "lb87abda7bf804fa3a843fe35233d9270.gru.bias_ih_l1", "lb87abda7bf804fa3a843fe35233d9270.gru.bias_hh_l1", "lb87abda7bf804fa3a843fe35233d9270.out.weight", "lb87abda7bf804fa3a843fe35233d9270.out.bias", "lb87abda7bf804fa3a843fe35233d9270.hidden_vector.weight", "lb87abda7bf804fa3a843fe35233d9270.hidden_vector.bias". 
	Unexpected key(s) in state_dict: "encoder.layer.weight_ih_l0", "encoder.layer.weight_hh_l0", "encoder.layer.bias_ih_l0", "encoder.layer.bias_hh_l0", "encoder.layer.weight_ih_l1", "encoder.layer.weight_hh_l1", "encoder.layer.bias_ih_l1", "encoder.layer.bias_hh_l1", "decoder.embedding.weight", "decoder.attn.weight", "decoder.attn.bias", "decoder.attn_combine.weight", "decoder.attn_combine.bias", "decoder.gru.weight_ih_l0", "decoder.gru.weight_hh_l0", "decoder.gru.bias_ih_l0", "decoder.gru.bias_hh_l0", "decoder.gru.weight_ih_l1", "decoder.gru.weight_hh_l1", "decoder.gru.bias_ih_l1", "decoder.gru.bias_hh_l1", "decoder.out.weight", "decoder.out.bias", "decoder.hidden_vector.weight", "decoder.hidden_vector.bias". 
{'Total': 20806772, 'Trainable': 20806772}
2020-12-13 07:39:25 [INFO] load error :Error(s) in loading state_dict for DetectionNet:
	Missing key(s) in state_dict: "lccb51a0e610d44c9b0b05057d2f1864c.aspp1.0.weight", "lccb51a0e610d44c9b0b05057d2f1864c.aspp1.1.weight", "lccb51a0e610d44c9b0b05057d2f1864c.aspp1.1.bias", "lccb51a0e610d44c9b0b05057d2f1864c.aspp1.1.running_mean", "lccb51a0e610d44c9b0b05057d2f1864c.aspp1.1.running_var", "lccb51a0e610d44c9b0b05057d2f1864c.aspp2.0.weight", "lccb51a0e610d44c9b0b05057d2f1864c.aspp2.1.weight", "lccb51a0e610d44c9b0b05057d2f1864c.aspp2.1.bias", "lccb51a0e610d44c9b0b05057d2f1864c.aspp2.1.running_mean", "lccb51a0e610d44c9b0b05057d2f1864c.aspp2.1.running_var", "lccb51a0e610d44c9b0b05057d2f1864c.aspp3.0.weight", "lccb51a0e610d44c9b0b05057d2f1864c.aspp3.1.weight", "lccb51a0e610d44c9b0b05057d2f1864c.aspp3.1.bias", "lccb51a0e610d44c9b0b05057d2f1864c.aspp3.1.running_mean", "lccb51a0e610d44c9b0b05057d2f1864c.aspp3.1.running_var", "lccb51a0e610d44c9b0b05057d2f1864c.aspp4.0.weight", "lccb51a0e610d44c9b0b05057d2f1864c.aspp4.1.weight", "lccb51a0e610d44c9b0b05057d2f1864c.aspp4.1.bias", "lccb51a0e610d44c9b0b05057d2f1864c.aspp4.1.running_mean", "lccb51a0e610d44c9b0b05057d2f1864c.aspp4.1.running_var", "lccb51a0e610d44c9b0b05057d2f1864c.avg_pool.1.weight", "lccb51a0e610d44c9b0b05057d2f1864c.avg_pool.2.weight", "lccb51a0e610d44c9b0b05057d2f1864c.avg_pool.2.bias", "lccb51a0e610d44c9b0b05057d2f1864c.avg_pool.2.running_mean", "lccb51a0e610d44c9b0b05057d2f1864c.avg_pool.2.running_var", "lccb51a0e610d44c9b0b05057d2f1864c.conv1.weight", "lccb51a0e610d44c9b0b05057d2f1864c.bn1.weight", "lccb51a0e610d44c9b0b05057d2f1864c.bn1.bias", "lccb51a0e610d44c9b0b05057d2f1864c.bn1.running_mean", "lccb51a0e610d44c9b0b05057d2f1864c.bn1.running_var", "lb87abda7bf804fa3a843fe35233d9270.conv1.weight", "lb87abda7bf804fa3a843fe35233d9270.bn1.weight", "lb87abda7bf804fa3a843fe35233d9270.bn1.bias", "lb87abda7bf804fa3a843fe35233d9270.bn1.running_mean", "lb87abda7bf804fa3a843fe35233d9270.bn1.running_var", "lb87abda7bf804fa3a843fe35233d9270.output.0.weight", "lb87abda7bf804fa3a843fe35233d9270.output.1.weight", "lb87abda7bf804fa3a843fe35233d9270.output.1.bias", "lb87abda7bf804fa3a843fe35233d9270.output.1.running_mean", "lb87abda7bf804fa3a843fe35233d9270.output.1.running_var", "lb87abda7bf804fa3a843fe35233d9270.output.3.weight", "lb87abda7bf804fa3a843fe35233d9270.output.4.weight", "lb87abda7bf804fa3a843fe35233d9270.output.4.bias", "lb87abda7bf804fa3a843fe35233d9270.output.4.running_mean", "lb87abda7bf804fa3a843fe35233d9270.output.4.running_var", "lb87abda7bf804fa3a843fe35233d9270.output.6.weight", "lb87abda7bf804fa3a843fe35233d9270.output.6.bias". 
	Unexpected key(s) in state_dict: "ASSP.aspp1.0.weight", "ASSP.aspp1.1.weight", "ASSP.aspp1.1.bias", "ASSP.aspp1.1.running_mean", "ASSP.aspp1.1.running_var", "ASSP.aspp1.1.num_batches_tracked", "ASSP.aspp2.0.weight", "ASSP.aspp2.1.weight", "ASSP.aspp2.1.bias", "ASSP.aspp2.1.running_mean", "ASSP.aspp2.1.running_var", "ASSP.aspp2.1.num_batches_tracked", "ASSP.aspp3.0.weight", "ASSP.aspp3.1.weight", "ASSP.aspp3.1.bias", "ASSP.aspp3.1.running_mean", "ASSP.aspp3.1.running_var", "ASSP.aspp3.1.num_batches_tracked", "ASSP.aspp4.0.weight", "ASSP.aspp4.1.weight", "ASSP.aspp4.1.bias", "ASSP.aspp4.1.running_mean", "ASSP.aspp4.1.running_var", "ASSP.aspp4.1.num_batches_tracked", "ASSP.avg_pool.1.weight", "ASSP.avg_pool.2.weight", "ASSP.avg_pool.2.bias", "ASSP.avg_pool.2.running_mean", "ASSP.avg_pool.2.running_var", "ASSP.avg_pool.2.num_batches_tracked", "ASSP.conv1.weight", "ASSP.bn1.weight", "ASSP.bn1.bias", "ASSP.bn1.running_mean", "ASSP.bn1.running_var", "ASSP.bn1.num_batches_tracked", "decoder.conv1.weight", "decoder.bn1.weight", "decoder.bn1.bias", "decoder.bn1.running_mean", "decoder.bn1.running_var", "decoder.bn1.num_batches_tracked", "decoder.output.0.weight", "decoder.output.1.weight", "decoder.output.1.bias", "decoder.output.1.running_mean", "decoder.output.1.running_var", "decoder.output.1.num_batches_tracked", "decoder.output.3.weight", "decoder.output.4.weight", "decoder.output.4.bias", "decoder.output.4.running_mean", "decoder.output.4.running_var", "decoder.output.4.num_batches_tracked", "decoder.output.6.weight", "decoder.output.6.bias". 
2020-12-13 07:39:25 [INFO] load error :Error(s) in loading state_dict for DetectionNet:
	Missing key(s) in state_dict: "lccb51a0e610d44c9b0b05057d2f1864c.aspp1.0.weight", "lccb51a0e610d44c9b0b05057d2f1864c.aspp1.1.weight", "lccb51a0e610d44c9b0b05057d2f1864c.aspp1.1.bias", "lccb51a0e610d44c9b0b05057d2f1864c.aspp1.1.running_mean", "lccb51a0e610d44c9b0b05057d2f1864c.aspp1.1.running_var", "lccb51a0e610d44c9b0b05057d2f1864c.aspp2.0.weight", "lccb51a0e610d44c9b0b05057d2f1864c.aspp2.1.weight", "lccb51a0e610d44c9b0b05057d2f1864c.aspp2.1.bias", "lccb51a0e610d44c9b0b05057d2f1864c.aspp2.1.running_mean", "lccb51a0e610d44c9b0b05057d2f1864c.aspp2.1.running_var", "lccb51a0e610d44c9b0b05057d2f1864c.aspp3.0.weight", "lccb51a0e610d44c9b0b05057d2f1864c.aspp3.1.weight", "lccb51a0e610d44c9b0b05057d2f1864c.aspp3.1.bias", "lccb51a0e610d44c9b0b05057d2f1864c.aspp3.1.running_mean", "lccb51a0e610d44c9b0b05057d2f1864c.aspp3.1.running_var", "lccb51a0e610d44c9b0b05057d2f1864c.aspp4.0.weight", "lccb51a0e610d44c9b0b05057d2f1864c.aspp4.1.weight", "lccb51a0e610d44c9b0b05057d2f1864c.aspp4.1.bias", "lccb51a0e610d44c9b0b05057d2f1864c.aspp4.1.running_mean", "lccb51a0e610d44c9b0b05057d2f1864c.aspp4.1.running_var", "lccb51a0e610d44c9b0b05057d2f1864c.avg_pool.1.weight", "lccb51a0e610d44c9b0b05057d2f1864c.avg_pool.2.weight", "lccb51a0e610d44c9b0b05057d2f1864c.avg_pool.2.bias", "lccb51a0e610d44c9b0b05057d2f1864c.avg_pool.2.running_mean", "lccb51a0e610d44c9b0b05057d2f1864c.avg_pool.2.running_var", "lccb51a0e610d44c9b0b05057d2f1864c.conv1.weight", "lccb51a0e610d44c9b0b05057d2f1864c.bn1.weight", "lccb51a0e610d44c9b0b05057d2f1864c.bn1.bias", "lccb51a0e610d44c9b0b05057d2f1864c.bn1.running_mean", "lccb51a0e610d44c9b0b05057d2f1864c.bn1.running_var", "lb87abda7bf804fa3a843fe35233d9270.conv1.weight", "lb87abda7bf804fa3a843fe35233d9270.bn1.weight", "lb87abda7bf804fa3a843fe35233d9270.bn1.bias", "lb87abda7bf804fa3a843fe35233d9270.bn1.running_mean", "lb87abda7bf804fa3a843fe35233d9270.bn1.running_var", "lb87abda7bf804fa3a843fe35233d9270.output.0.weight", "lb87abda7bf804fa3a843fe35233d9270.output.1.weight", "lb87abda7bf804fa3a843fe35233d9270.output.1.bias", "lb87abda7bf804fa3a843fe35233d9270.output.1.running_mean", "lb87abda7bf804fa3a843fe35233d9270.output.1.running_var", "lb87abda7bf804fa3a843fe35233d9270.output.3.weight", "lb87abda7bf804fa3a843fe35233d9270.output.4.weight", "lb87abda7bf804fa3a843fe35233d9270.output.4.bias", "lb87abda7bf804fa3a843fe35233d9270.output.4.running_mean", "lb87abda7bf804fa3a843fe35233d9270.output.4.running_var", "lb87abda7bf804fa3a843fe35233d9270.output.6.weight", "lb87abda7bf804fa3a843fe35233d9270.output.6.bias". 
	Unexpected key(s) in state_dict: "ASSP.aspp1.0.weight", "ASSP.aspp1.1.weight", "ASSP.aspp1.1.bias", "ASSP.aspp1.1.running_mean", "ASSP.aspp1.1.running_var", "ASSP.aspp1.1.num_batches_tracked", "ASSP.aspp2.0.weight", "ASSP.aspp2.1.weight", "ASSP.aspp2.1.bias", "ASSP.aspp2.1.running_mean", "ASSP.aspp2.1.running_var", "ASSP.aspp2.1.num_batches_tracked", "ASSP.aspp3.0.weight", "ASSP.aspp3.1.weight", "ASSP.aspp3.1.bias", "ASSP.aspp3.1.running_mean", "ASSP.aspp3.1.running_var", "ASSP.aspp3.1.num_batches_tracked", "ASSP.aspp4.0.weight", "ASSP.aspp4.1.weight", "ASSP.aspp4.1.bias", "ASSP.aspp4.1.running_mean", "ASSP.aspp4.1.running_var", "ASSP.aspp4.1.num_batches_tracked", "ASSP.avg_pool.1.weight", "ASSP.avg_pool.2.weight", "ASSP.avg_pool.2.bias", "ASSP.avg_pool.2.running_mean", "ASSP.avg_pool.2.running_var", "ASSP.avg_pool.2.num_batches_tracked", "ASSP.conv1.weight", "ASSP.bn1.weight", "ASSP.bn1.bias", "ASSP.bn1.running_mean", "ASSP.bn1.running_var", "ASSP.bn1.num_batches_tracked", "decoder.conv1.weight", "decoder.bn1.weight", "decoder.bn1.bias", "decoder.bn1.running_mean", "decoder.bn1.running_var", "decoder.bn1.num_batches_tracked", "decoder.output.0.weight", "decoder.output.1.weight", "decoder.output.1.bias", "decoder.output.1.running_mean", "decoder.output.1.running_var", "decoder.output.1.num_batches_tracked", "decoder.output.3.weight", "decoder.output.4.weight", "decoder.output.4.bias", "decoder.output.4.running_mean", "decoder.output.4.running_var", "decoder.output.4.num_batches_tracked", "decoder.output.6.weight", "decoder.output.6.bias". 
1
1
0
2020-12-13 07:39:26 [INFO] load errorError(s) in loading state_dict for LSTMAttentionOCR:
	Missing key(s) in state_dict: "l8f90af29f7714876aae1bbf31bfaf449.layer.weight_ih_l0", "l8f90af29f7714876aae1bbf31bfaf449.layer.weight_hh_l0", "l8f90af29f7714876aae1bbf31bfaf449.layer.bias_ih_l0", "l8f90af29f7714876aae1bbf31bfaf449.layer.bias_hh_l0", "l8f90af29f7714876aae1bbf31bfaf449.layer.weight_ih_l1", "l8f90af29f7714876aae1bbf31bfaf449.layer.weight_hh_l1", "l8f90af29f7714876aae1bbf31bfaf449.layer.bias_ih_l1", "l8f90af29f7714876aae1bbf31bfaf449.layer.bias_hh_l1", "lb87abda7bf804fa3a843fe35233d9270.embedding.weight", "lb87abda7bf804fa3a843fe35233d9270.attn.weight", "lb87abda7bf804fa3a843fe35233d9270.attn.bias", "lb87abda7bf804fa3a843fe35233d9270.attn_combine.weight", "lb87abda7bf804fa3a843fe35233d9270.attn_combine.bias", "lb87abda7bf804fa3a843fe35233d9270.gru.weight_ih_l0", "lb87abda7bf804fa3a843fe35233d9270.gru.weight_hh_l0", "lb87abda7bf804fa3a843fe35233d9270.gru.bias_ih_l0", "lb87abda7bf804fa3a843fe35233d9270.gru.bias_hh_l0", "lb87abda7bf804fa3a843fe35233d9270.gru.weight_ih_l1", "lb87abda7bf804fa3a843fe35233d9270.gru.weight_hh_l1", "lb87abda7bf804fa3a843fe35233d9270.gru.bias_ih_l1", "lb87abda7bf804fa3a843fe35233d9270.gru.bias_hh_l1", "lb87abda7bf804fa3a843fe35233d9270.out.weight", "lb87abda7bf804fa3a843fe35233d9270.out.bias", "lb87abda7bf804fa3a843fe35233d9270.hidden_vector.weight", "lb87abda7bf804fa3a843fe35233d9270.hidden_vector.bias". 
	Unexpected key(s) in state_dict: "encoder.layer.weight_ih_l0", "encoder.layer.weight_hh_l0", "encoder.layer.bias_ih_l0", "encoder.layer.bias_hh_l0", "encoder.layer.weight_ih_l1", "encoder.layer.weight_hh_l1", "encoder.layer.bias_ih_l1", "encoder.layer.bias_hh_l1", "decoder.embedding.weight", "decoder.attn.weight", "decoder.attn.bias", "decoder.attn_combine.weight", "decoder.attn_combine.bias", "decoder.gru.weight_ih_l0", "decoder.gru.weight_hh_l0", "decoder.gru.bias_ih_l0", "decoder.gru.bias_hh_l0", "decoder.gru.weight_ih_l1", "decoder.gru.weight_hh_l1", "decoder.gru.bias_ih_l1", "decoder.gru.bias_hh_l1", "decoder.out.weight", "decoder.out.bias", "decoder.hidden_vector.weight", "decoder.hidden_vector.bias". 
{'Total': 20755522, 'Trainable': 20755522}
2020-12-13 07:39:26 [INFO] load errorError(s) in loading state_dict for LSTMAttentionOCR:
	Missing key(s) in state_dict: "l8f90af29f7714876aae1bbf31bfaf449.layer.weight_ih_l0", "l8f90af29f7714876aae1bbf31bfaf449.layer.weight_hh_l0", "l8f90af29f7714876aae1bbf31bfaf449.layer.bias_ih_l0", "l8f90af29f7714876aae1bbf31bfaf449.layer.bias_hh_l0", "l8f90af29f7714876aae1bbf31bfaf449.layer.weight_ih_l1", "l8f90af29f7714876aae1bbf31bfaf449.layer.weight_hh_l1", "l8f90af29f7714876aae1bbf31bfaf449.layer.bias_ih_l1", "l8f90af29f7714876aae1bbf31bfaf449.layer.bias_hh_l1", "lb87abda7bf804fa3a843fe35233d9270.embedding.weight", "lb87abda7bf804fa3a843fe35233d9270.attn.weight", "lb87abda7bf804fa3a843fe35233d9270.attn.bias", "lb87abda7bf804fa3a843fe35233d9270.attn_combine.weight", "lb87abda7bf804fa3a843fe35233d9270.attn_combine.bias", "lb87abda7bf804fa3a843fe35233d9270.gru.weight_ih_l0", "lb87abda7bf804fa3a843fe35233d9270.gru.weight_hh_l0", "lb87abda7bf804fa3a843fe35233d9270.gru.bias_ih_l0", "lb87abda7bf804fa3a843fe35233d9270.gru.bias_hh_l0", "lb87abda7bf804fa3a843fe35233d9270.gru.weight_ih_l1", "lb87abda7bf804fa3a843fe35233d9270.gru.weight_hh_l1", "lb87abda7bf804fa3a843fe35233d9270.gru.bias_ih_l1", "lb87abda7bf804fa3a843fe35233d9270.gru.bias_hh_l1", "lb87abda7bf804fa3a843fe35233d9270.out.weight", "lb87abda7bf804fa3a843fe35233d9270.out.bias", "lb87abda7bf804fa3a843fe35233d9270.hidden_vector.weight", "lb87abda7bf804fa3a843fe35233d9270.hidden_vector.bias". 
	Unexpected key(s) in state_dict: "encoder.layer.weight_ih_l0", "encoder.layer.weight_hh_l0", "encoder.layer.bias_ih_l0", "encoder.layer.bias_hh_l0", "encoder.layer.weight_ih_l1", "encoder.layer.weight_hh_l1", "encoder.layer.bias_ih_l1", "encoder.layer.bias_hh_l1", "decoder.embedding.weight", "decoder.attn.weight", "decoder.attn.bias", "decoder.attn_combine.weight", "decoder.attn_combine.bias", "decoder.gru.weight_ih_l0", "decoder.gru.weight_hh_l0", "decoder.gru.bias_ih_l0", "decoder.gru.bias_hh_l0", "decoder.gru.weight_ih_l1", "decoder.gru.weight_hh_l1", "decoder.gru.bias_ih_l1", "decoder.gru.bias_hh_l1", "decoder.out.weight", "decoder.out.bias", "decoder.hidden_vector.weight", "decoder.hidden_vector.bias". 
{'Total': 20755522, 'Trainable': 20755522}
2020-12-13 07:39:26 [INFO] ocr server started,listening port:8081
 * Serving Flask app "dl_service_start" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
 * Running on http://0.0.0.0:8081/ (Press CTRL+C to quit)

"""


def _main():
    re_str = r'(?<=[\"\'\*\s\.=\(:\[])+([A-Za-z]+[\w]*)(?=[\.,=\(\)\s:\"\'\}\[\]])+'
    contents = set()
    variable_mapping = {}
    for m in re.finditer(re_str, CC):
        content_range = m.span()
        variable_mapping[CC[content_range[0]:content_range[1]]] = content_range
        content = CC[content_range[0]:content_range[1]]
        contents.add(content)
    print(contents)


if __name__ == '__main__':
    _main()
